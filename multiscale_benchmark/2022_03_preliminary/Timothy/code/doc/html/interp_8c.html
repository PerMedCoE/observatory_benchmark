<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Timothy: interp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tlogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Timothy
   &#160;<span id="projectnumber">0.9</span>
   </div>
   <div id="projectbrief">Tissue Modelling Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('interp_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">interp.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>contains grid to cellular data interpolation functions  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fields_8h_source.html">fields.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for interp.c:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c__incl.png" border="0" usemap="#interp_8c" alt=""/></div>
<map name="interp_8c" id="interp_8c">
<area shape="rect" id="node6" href="global_8h.html" title="contains the most important global variables, arrays and defines " alt="" coords="355,80,421,107"/><area shape="rect" id="node8" href="fields_8h.html" title="contains variables and arrays for global fields " alt="" coords="445,80,509,107"/></map>
</div>
</div>
<p><a href="interp_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aebce899f04ee8be80684bb4610b99392"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#aebce899f04ee8be80684bb4610b99392">patch</a>(p, i, j, k)&#160;&#160;&#160;(<a class="el" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a>[p][<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].y*<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].z*i+<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].z*j+k])</td></tr>
<tr class="separator:aebce899f04ee8be80684bb4610b99392"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4299a7e9993adbe7a047b835b2339550"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550">findPatches</a> ()</td></tr>
<tr class="separator:a4299a7e9993adbe7a047b835b2339550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ed91c5c40f3937e10c8c60c2b8fb7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f">doInterpolation</a> ()</td></tr>
<tr class="separator:a09ed91c5c40f3937e10c8c60c2b8fb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085ef29ed8159779989ae8fac05fd699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699">initPatchExchange</a> ()</td></tr>
<tr class="separator:a085ef29ed8159779989ae8fac05fd699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4124511b40767952ed61d5ae30bae7b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6">waitPatchExchange</a> ()</td></tr>
<tr class="separator:a4124511b40767952ed61d5ae30bae7b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e968c18c11bbe46df754e7eca593b33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33">applyPatches</a> ()</td></tr>
<tr class="separator:a3e968c18c11bbe46df754e7eca593b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe8eca69017d7e0f87fd2c6cdb9b2e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a4fe8eca69017d7e0f87fd2c6cdb9b2e2">initFieldsPatchesExchange</a> ()</td></tr>
<tr class="separator:a4fe8eca69017d7e0f87fd2c6cdb9b2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751d539b1af7ca1f9ce8e55a91084874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a751d539b1af7ca1f9ce8e55a91084874">waitFieldsPatchesExchange</a> ()</td></tr>
<tr class="separator:a751d539b1af7ca1f9ce8e55a91084874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08111192411fead96613d994aa95f960"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a08111192411fead96613d994aa95f960">applyFieldsPatches</a> ()</td></tr>
<tr class="separator:a08111192411fead96613d994aa95f960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace868928ce5497cc3edc942bd5c8f396"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396">interpolateCellsToGrid</a> ()</td></tr>
<tr class="separator:ace868928ce5497cc3edc942bd5c8f396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad862fb7e08b1dee6d784a09a26978ada"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#ad862fb7e08b1dee6d784a09a26978ada">initCellsToGridExchange</a> ()</td></tr>
<tr class="separator:ad862fb7e08b1dee6d784a09a26978ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7fd669461f281bbaceac377028fb722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#ac7fd669461f281bbaceac377028fb722">waitCellsToGridExchange</a> ()</td></tr>
<tr class="separator:ac7fd669461f281bbaceac377028fb722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8b42e40580516283e6f43ce7fe6389"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a7f8b42e40580516283e6f43ce7fe6389">interpolateFieldsToCells</a> ()</td></tr>
<tr class="separator:a7f8b42e40580516283e6f43ce7fe6389"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7b2e819edbf39d5d976cff399612f6e8"><td class="memItemLeft" align="right" valign="top">double **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a></td></tr>
<tr class="separator:a7b2e819edbf39d5d976cff399612f6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e8e01a33edaeee7b43a257115fe3ed"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a></td></tr>
<tr class="separator:aa1e8e01a33edaeee7b43a257115fe3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4ccb79955589454dc66b849d8701ec"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></td></tr>
<tr class="separator:adb4ccb79955589454dc66b849d8701ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5d63a8f1ea342e89fe82d9bfa34dc4"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></td></tr>
<tr class="separator:a2a5d63a8f1ea342e89fe82d9bfa34dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa694a54cf85528e82466805524525b7d"><td class="memItemLeft" align="right" valign="top">double **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a></td></tr>
<tr class="separator:aa694a54cf85528e82466805524525b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3d471e7732a1f671ffe978fcd723912"><td class="memItemLeft" align="right" valign="top">MPI_Request *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a></td></tr>
<tr class="separator:ae3d471e7732a1f671ffe978fcd723912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b72f0c32960cd3ecc1733f30c40214"><td class="memItemLeft" align="right" valign="top">MPI_Request *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a></td></tr>
<tr class="separator:a63b72f0c32960cd3ecc1733f30c40214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ace146e560886795409d6ac149119c"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a55ace146e560886795409d6ac149119c">recvP</a></td></tr>
<tr class="separator:a55ace146e560886795409d6ac149119c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5d5cd735e0be12043322e83f096e15"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></td></tr>
<tr class="separator:a4a5d5cd735e0be12043322e83f096e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad7766a77930978570efda9dc79c423"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a></td></tr>
<tr class="separator:a1ad7766a77930978570efda9dc79c423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2376cd58453249d9c7665fa650751766"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></td></tr>
<tr class="separator:a2376cd58453249d9c7665fa650751766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a5d325724a8a8e583d58f951412aa0f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></td></tr>
<tr class="separator:a6a5d325724a8a8e583d58f951412aa0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c4dd6e4bd05dfdc1e3b01c60b96c31"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></td></tr>
<tr class="separator:a63c4dd6e4bd05dfdc1e3b01c60b96c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36d10dac7f64ef74bbf954bf709a0bd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interp_8c.html#ac36d10dac7f64ef74bbf954bf709a0bd">patchSizeR</a></td></tr>
<tr class="separator:ac36d10dac7f64ef74bbf954bf709a0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>contains grid to cellular data interpolation functions </p>

<p>Definition in file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aebce899f04ee8be80684bb4610b99392"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define patch</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">j, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">k&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a>[p][<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].y*<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].z*i+<a class="el" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].z*j+k])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00049">49</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a08111192411fead96613d994aa95f960"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void applyFieldsPatches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update local cell fields with information from remote processes received in patches. Receiveing field patches are deallocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00509">509</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="global_8h_source.html#l00083">cellFields</a>, <a class="el" href="global_8h_source.html#l00082">cells</a>, <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="fields_8h_source.html#l00079">fieldsPatches</a>, <a class="el" href="fields_8h_source.html#l00042">gridEndIdx</a>, <a class="el" href="fields_8h_source.html#l00045">gridResolution</a>, <a class="el" href="fields_8h_source.html#l00042">gridStartIdx</a>, <a class="el" href="global_8h_source.html#l00102">lnc</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="fields_8h_source.html#l00027">NFIELDS</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00069">cellData::x</a>, <a class="el" href="global_8h_source.html#l00223">doubleVector3d::x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00070">cellData::y</a>, <a class="el" href="global_8h_source.html#l00224">doubleVector3d::y</a>, <a class="el" href="global_8h_source.html#l00230">int64Vector3d::y</a>, <a class="el" href="global_8h_source.html#l00071">cellData::z</a>, <a class="el" href="global_8h_source.html#l00225">doubleVector3d::z</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">int</span> p, c, f, i, j, k;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> idx;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">struct </span><a class="code" href="structdoubleVector3d.html">doubleVector3d</a> d, t;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> cellIdx;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keyword">struct </span><a class="code" href="structdoubleVector3d.html">doubleVector3d</a> cicCoord;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordtype">int</span> max = 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordtype">int</span> iddd;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">/* reset fields */</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">for</span> (f = 0; f &lt; <a class="code" href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a>; f++)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span> (c = 0; c &lt; <a class="code" href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a>; c++)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <a class="code" href="global_8h.html#a25e4317a1b5bb95a8e71e0e8c4e11f2b">cellFields</a>[f][c] = 0.0;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">for</span> (c = 0; c &lt; <a class="code" href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a>; c++) {   <span class="comment">/* for every cell */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    cellIdx.x = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> - lowerGridCorner.x) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    cellIdx.y = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab927965981178aa1fba979a37168db2a">y</a> - lowerGridCorner.y) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    cellIdx.z = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a> - lowerGridCorner.z) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) { <span class="comment">/* for each process */</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordtype">int</span> ax, ay, az;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p])</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">continue</span>;       <span class="comment">/* there is no patch from this process */</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keywordflow">for</span> (ax = 0; ax &lt; 2; ax++)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">for</span> (ay = 0; ay &lt; 2; ay++)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">for</span> (az = 0; az &lt; 2; az++) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordflow">if</span> (cellIdx.x + ax &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        &amp;&amp; cellIdx.y + ay &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        &amp;&amp; cellIdx.z + az &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        &amp;&amp; cellIdx.x + ax &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        &amp;&amp; cellIdx.y + ay &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        &amp;&amp; cellIdx.z + az &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;          idx.x = (cellIdx.x + ax) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;          idx.y = (cellIdx.y + ay) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">y</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;          idx.z = (cellIdx.z + az) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          cicCoord.x = lowerGridCorner.x + cellIdx.x * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;          cicCoord.y = lowerGridCorner.y + cellIdx.y * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;          cicCoord.z = lowerGridCorner.z + cellIdx.z * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;          d.x = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> - cicCoord.x) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          d.y = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab927965981178aa1fba979a37168db2a">y</a> - cicCoord.y) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          d.z = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a> - cicCoord.z) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;          t.x = 1.0 - d.x;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;          t.y = 1.0 - d.y;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          t.z = 1.0 - d.z;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          <span class="comment">/* interpolating back to cells */</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          <span class="comment">/* scaling from mol/cm^3 to mol/cell */</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;          <span class="keywordflow">for</span> (f = 0; f &lt; <a class="code" href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a>; f++) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="global_8h.html#a25e4317a1b5bb95a8e71e0e8c4e11f2b">cellFields</a>[f][c] += <a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a>[p][f * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> + <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * idx.x + <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * idx.y + idx.z] * (ax * d.x + (1 - ax) * t.x) * (ay * d.y + (1 - ay) * t.y) * (az * d.z + (1 - az) * t.z);    <span class="comment">//*cellVolume;</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;          }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        }           <span class="comment">// if</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      }         <span class="comment">// az</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    }               <span class="comment">// p</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }             <span class="comment">// c</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    free(<a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a>[p]);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  free(<a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="ttc" id="structdoubleVector3d_html"><div class="ttname"><a href="structdoubleVector3d.html">doubleVector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00222">global.h:222</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">doubleVector3d::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00225">global.h:225</a></div></div>
<div class="ttc" id="global_8h_html_a7065c019590815f10169c219f358e7d0"><div class="ttname"><a href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a></div><div class="ttdeci">#define lnc</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00102">global.h:102</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="fields_8h_html_a1d13a1c43b1a6eb6ca088b79ee681b48"><div class="ttname"><a href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a></div><div class="ttdeci">struct int64Vector3d * gridEndIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="fields_8h_html_a7986f01c038f396ce7df280bb2903099"><div class="ttname"><a href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a></div><div class="ttdeci">#define NFIELDS</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00027">fields.h:27</a></div></div>
<div class="ttc" id="interp_8c_html_a4a5d5cd735e0be12043322e83f096e15"><div class="ttname"><a href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="fields_8h_html_a978db43304285c6d893667023bd6bfb9"><div class="ttname"><a href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a></div><div class="ttdeci">double ** fieldsPatches</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00079">fields.h:79</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">doubleVector3d::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00224">global.h:224</a></div></div>
<div class="ttc" id="structcellData_html_af88b946fb90d5f08b5fb740c70e98c10"><div class="ttname"><a href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">cellData::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00069">global.h:69</a></div></div>
<div class="ttc" id="global_8h_html_a56da06a03aa369ca203be968cb56d16c"><div class="ttname"><a href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a></div><div class="ttdeci">struct cellData * cells</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00082">global.h:82</a></div></div>
<div class="ttc" id="fields_8h_html_a9154f33f7786c05c61f4d519da14d501"><div class="ttname"><a href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a></div><div class="ttdeci">struct int64Vector3d * gridStartIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="fields_8h_html_a1c1b24172891a639f9cad84edebeaee9"><div class="ttname"><a href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a></div><div class="ttdeci">double gridResolution</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00045">fields.h:45</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="structcellData_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">cellData::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00071">global.h:71</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="structcellData_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structcellData.html#ab927965981178aa1fba979a37168db2a">cellData::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00070">global.h:70</a></div></div>
<div class="ttc" id="global_8h_html_a25e4317a1b5bb95a8e71e0e8c4e11f2b"><div class="ttname"><a href="global_8h.html#a25e4317a1b5bb95a8e71e0e8c4e11f2b">cellFields</a></div><div class="ttdeci">double ** cellFields</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00083">global.h:83</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a08111192411fead96613d994aa95f960_icgraph.png" border="0" usemap="#interp_8c_a08111192411fead96613d994aa95f960_icgraph" alt=""/></div>
<map name="interp_8c_a08111192411fead96613d994aa95f960_icgraph" id="interp_8c_a08111192411fead96613d994aa95f960_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#a7f8b42e40580516283e6f43ce7fe6389" title="interpolateFieldsToCells" alt="" coords="189,5,352,32"/><area shape="rect" id="node3" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="400,5,451,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e968c18c11bbe46df754e7eca593b33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int applyPatches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update local densityField part with information from remote processes received in patches. Receiveing patches are deallocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00338">338</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00036">cicIntersect</a>, <a class="el" href="interp_8c_source.html#l00035">cicPatch</a>, <a class="el" href="interp_8c_source.html#l00039">cicRecvPatch</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="fields_8h_source.html#l00075">densityField</a>, <a class="el" href="fields_8h_source.html#l00042">gridEndIdx</a>, <a class="el" href="fields_8h_source.html#l00041">gridSize</a>, <a class="el" href="fields_8h_source.html#l00042">gridStartIdx</a>, <a class="el" href="global_8h_source.html#l00134">MPIrank</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00224">doubleVector3d::y</a>, <a class="el" href="global_8h_source.html#l00230">int64Vector3d::y</a>, <a class="el" href="global_8h_source.html#l00225">doubleVector3d::z</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordtype">int</span> p;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordtype">int</span> i, j, k;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> * <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>; i++)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="fields_8h.html#ab5fe38cf4811c34fa9d1c8e4aa6340c2">densityField</a>[i] = 0.0;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordtype">int</span> i, j, k;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p])</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">for</span> (i = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a>; i &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>; i++)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">for</span> (j = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">y</a>; j &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>; j++)</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">for</span> (k = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>; k &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>; k++) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> c, g, size;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      size.<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> + 1;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      size.y = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> + 1;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      size.z = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> + 1;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      c.x = i - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      c.y = j - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      c.z = k - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <span class="keywordflow">if</span> (i &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a> &amp;&amp; i &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          &amp;&amp; j &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> &amp;&amp; j &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          &amp;&amp; k &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          &amp;&amp; k &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        g.x = i - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        g.y = j - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        g.z = k - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="fields_8h.html#ab5fe38cf4811c34fa9d1c8e4aa6340c2">densityField</a>[<a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * g.x + <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * g.y +</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;             g.z] +=</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a>[p][size.z * size.y * c.x + size.z * c.y +</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                c.z];</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    free(<a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a>[p]);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  free(<a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>[p])</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      free(<a class="code" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a>[p]);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  free(<a class="code" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">doubleVector3d::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00225">global.h:225</a></div></div>
<div class="ttc" id="global_8h_html_a710288ab7d2734acc4566a87a645325d"><div class="ttname"><a href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a></div><div class="ttdeci">int MPIrank</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00134">global.h:134</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="fields_8h_html_a1d13a1c43b1a6eb6ca088b79ee681b48"><div class="ttname"><a href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a></div><div class="ttdeci">struct int64Vector3d * gridEndIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="interp_8c_html_a7b2e819edbf39d5d976cff399612f6e8"><div class="ttname"><a href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a></div><div class="ttdeci">double ** cicPatch</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00035">interp.c:35</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">doubleVector3d::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00224">global.h:224</a></div></div>
<div class="ttc" id="fields_8h_html_ae67bb9d09bd0919a0ccbc27b387cec72"><div class="ttname"><a href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a></div><div class="ttdeci">struct int64Vector3d gridSize</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00041">fields.h:41</a></div></div>
<div class="ttc" id="fields_8h_html_a9154f33f7786c05c61f4d519da14d501"><div class="ttname"><a href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a></div><div class="ttdeci">struct int64Vector3d * gridStartIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="interp_8c_html_a2376cd58453249d9c7665fa650751766"><div class="ttname"><a href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a6a5d325724a8a8e583d58f951412aa0f"><div class="ttname"><a href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="interp_8c_html_aa694a54cf85528e82466805524525b7d"><div class="ttname"><a href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a></div><div class="ttdeci">double ** cicRecvPatch</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00039">interp.c:39</a></div></div>
<div class="ttc" id="fields_8h_html_ab5fe38cf4811c34fa9d1c8e4aa6340c2"><div class="ttname"><a href="fields_8h.html#ab5fe38cf4811c34fa9d1c8e4aa6340c2">densityField</a></div><div class="ttdeci">double * densityField</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00075">fields.h:75</a></div></div>
<div class="ttc" id="interp_8c_html_aa1e8e01a33edaeee7b43a257115fe3ed"><div class="ttname"><a href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a></div><div class="ttdeci">int * cicIntersect</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00036">interp.c:36</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a3e968c18c11bbe46df754e7eca593b33_icgraph.png" border="0" usemap="#interp_8c_a3e968c18c11bbe46df754e7eca593b33_icgraph" alt=""/></div>
<map name="interp_8c_a3e968c18c11bbe46df754e7eca593b33_icgraph" id="interp_8c_a3e968c18c11bbe46df754e7eca593b33_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396" title="interpolateCellsToGrid" alt="" coords="166,5,317,32"/><area shape="rect" id="node3" href="interp_8c.html#ac7fd669461f281bbaceac377028fb722" title="waitCellsToGridExchange" alt="" coords="155,56,328,83"/><area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="376,56,427,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09ed91c5c40f3937e10c8c60c2b8fb7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void doInterpolation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For each local cell its density value is interpolated accross neighbouring grid vertices with the use of Cloud-In-Cell method. Computed values are stored in patches instead in field buffers. No additional memory allocations are made here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00181">181</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="global_8h_source.html#l00082">cells</a>, <a class="el" href="fields_8h_source.html#l00042">gridEndIdx</a>, <a class="el" href="fields_8h_source.html#l00045">gridResolution</a>, <a class="el" href="fields_8h_source.html#l00042">gridStartIdx</a>, <a class="el" href="global_8h_source.html#l00102">lnc</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="interp_8c_source.html#l00049">patch</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00069">cellData::x</a>, <a class="el" href="global_8h_source.html#l00223">doubleVector3d::x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00070">cellData::y</a>, <a class="el" href="global_8h_source.html#l00224">doubleVector3d::y</a>, <a class="el" href="global_8h_source.html#l00230">int64Vector3d::y</a>, <a class="el" href="global_8h_source.html#l00071">cellData::z</a>, <a class="el" href="global_8h_source.html#l00225">doubleVector3d::z</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">int</span> c, i, p, j, k;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> idx;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keyword">struct </span><a class="code" href="structdoubleVector3d.html">doubleVector3d</a> d, t;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> cellIdx;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keyword">struct </span><a class="code" href="structdoubleVector3d.html">doubleVector3d</a> cicCoord;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>; i++)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>; j++)</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">for</span> (k = 0; k &lt; <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>; k++)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="interp_8c.html#aebce899f04ee8be80684bb4610b99392">patch</a>(p, i, j, k) = 0.0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">for</span> (c = 0; c &lt; <a class="code" href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a>; c++) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    cellIdx.x = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> - lowerGridCorner.x) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    cellIdx.y = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab927965981178aa1fba979a37168db2a">y</a> - lowerGridCorner.y) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    cellIdx.z = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a> - lowerGridCorner.z) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordtype">int</span> ax, ay, az;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">for</span> (ax = 0; ax &lt; 2; ax++)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span> (ay = 0; ay &lt; 2; ay++)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">for</span> (az = 0; az &lt; 2; az++) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (cellIdx.x + ax &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        &amp;&amp; cellIdx.y + ay &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        &amp;&amp; cellIdx.z + az &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        &amp;&amp; cellIdx.x + ax &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        &amp;&amp; cellIdx.y + ay &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        &amp;&amp; cellIdx.z + az &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          idx.x = (cellIdx.x + ax) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          idx.y = (cellIdx.y + ay) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">y</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          idx.z = (cellIdx.z + az) - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          cicCoord.x = lowerGridCorner.x + cellIdx.x * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          cicCoord.y = lowerGridCorner.y + cellIdx.y * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          cicCoord.z = lowerGridCorner.z + cellIdx.z * <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          d.x = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> - cicCoord.x) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          d.y = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab927965981178aa1fba979a37168db2a">y</a> - cicCoord.y) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          d.z = (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a> - cicCoord.z) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          t.x = 1.0 - d.x;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          t.y = 1.0 - d.y;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;          t.z = 1.0 - d.z;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].phase != 5) {    <span class="comment">/* if not in necrotic phase */</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].phase == 0) {  <span class="comment">/* if in G0 phase - lower consumption */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          <a class="code" href="interp_8c.html#aebce899f04ee8be80684bb4610b99392">patch</a>(p, idx.x, idx.y, idx.z) +=</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;              0.75 * (ax * d.x + (1 - ax) * t.x) * (ay * d.y +</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                (1 -</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                 ay) * t.y) *</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;              (az * d.z + (1 - az) * t.z);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        } <span class="keywordflow">else</span> {    <span class="comment">/* if not in G0 phase - normal consumption */</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          <a class="code" href="interp_8c.html#aebce899f04ee8be80684bb4610b99392">patch</a>(p, idx.x, idx.y, idx.z) +=</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;              1.0 * (ax * d.x + (1 - ax) * t.x) * (ay * d.y +</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                               (1 -</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                ay) * t.y) *</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;              (az * d.z + (1 - az) * t.z);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
<div class="ttc" id="structdoubleVector3d_html"><div class="ttname"><a href="structdoubleVector3d.html">doubleVector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00222">global.h:222</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structdoubleVector3d.html#ab3e6ed577a7c669c19de1f9c1b46c872">doubleVector3d::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00225">global.h:225</a></div></div>
<div class="ttc" id="global_8h_html_a7065c019590815f10169c219f358e7d0"><div class="ttname"><a href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a></div><div class="ttdeci">#define lnc</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00102">global.h:102</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="fields_8h_html_a1d13a1c43b1a6eb6ca088b79ee681b48"><div class="ttname"><a href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a></div><div class="ttdeci">struct int64Vector3d * gridEndIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="interp_8c_html_a4a5d5cd735e0be12043322e83f096e15"><div class="ttname"><a href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="structdoubleVector3d_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structdoubleVector3d.html#ab927965981178aa1fba979a37168db2a">doubleVector3d::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00224">global.h:224</a></div></div>
<div class="ttc" id="structcellData_html_af88b946fb90d5f08b5fb740c70e98c10"><div class="ttname"><a href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">cellData::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00069">global.h:69</a></div></div>
<div class="ttc" id="interp_8c_html_aebce899f04ee8be80684bb4610b99392"><div class="ttname"><a href="interp_8c.html#aebce899f04ee8be80684bb4610b99392">patch</a></div><div class="ttdeci">#define patch(p, i, j, k)</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00049">interp.c:49</a></div></div>
<div class="ttc" id="global_8h_html_a56da06a03aa369ca203be968cb56d16c"><div class="ttname"><a href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a></div><div class="ttdeci">struct cellData * cells</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00082">global.h:82</a></div></div>
<div class="ttc" id="fields_8h_html_a9154f33f7786c05c61f4d519da14d501"><div class="ttname"><a href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a></div><div class="ttdeci">struct int64Vector3d * gridStartIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="fields_8h_html_a1c1b24172891a639f9cad84edebeaee9"><div class="ttname"><a href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a></div><div class="ttdeci">double gridResolution</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00045">fields.h:45</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="structcellData_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">cellData::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00071">global.h:71</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="structcellData_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structcellData.html#ab927965981178aa1fba979a37168db2a">cellData::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00070">global.h:70</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a09ed91c5c40f3937e10c8c60c2b8fb7f_icgraph.png" border="0" usemap="#interp_8c_a09ed91c5c40f3937e10c8c60c2b8fb7f_icgraph" alt=""/></div>
<map name="interp_8c_a09ed91c5c40f3937e10c8c60c2b8fb7f_icgraph" id="interp_8c_a09ed91c5c40f3937e10c8c60c2b8fb7f_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396" title="interpolateCellsToGrid" alt="" coords="169,5,319,32"/><area shape="rect" id="node3" href="interp_8c.html#ad862fb7e08b1dee6d784a09a26978ada" title="initCellsToGridExchange" alt="" coords="161,56,327,83"/><area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="376,56,427,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4299a7e9993adbe7a047b835b2339550"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void findPatches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For each local cell we check its position in the grid. If cell is located in the grid partition of other process than the information about this cell should be send to remote process by MPI communication. This is done by preparing special patches and sending the information on all bunch of cells rather than sendind it one by one. This function identifies patches and allocate memory buffers for patches. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00060">60</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="global_8h_source.html#l00082">cells</a>, <a class="el" href="interp_8c_source.html#l00036">cicIntersect</a>, <a class="el" href="interp_8c_source.html#l00035">cicPatch</a>, <a class="el" href="fields_8h_source.html#l00042">gridEndIdx</a>, <a class="el" href="fields_8h_source.html#l00045">gridResolution</a>, <a class="el" href="fields_8h_source.html#l00042">gridStartIdx</a>, <a class="el" href="global_8h_source.html#l00102">lnc</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="global_8h_source.html#l00160">sdim</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00069">cellData::x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00070">cellData::y</a>, <a class="el" href="global_8h_source.html#l00230">int64Vector3d::y</a>, <a class="el" href="global_8h_source.html#l00071">cellData::z</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">int</span> i, c, p;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> cellIdx;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a> = (<span class="keywordtype">double</span> **) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span> *));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a> = (<span class="keywordtype">int</span> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a> =</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a> =</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a> =</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a> =</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a> =</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <a class="code" href="interp_8c.html#ac36d10dac7f64ef74bbf954bf709a0bd">patchSizeR</a> =</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      (<span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                      <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>[p] = 0;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> = 0;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> = 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> = INT_MAX;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> = INT_MAX;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a> == 3)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = INT_MAX;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = 0;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> = INT_MIN, <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> = INT_MIN;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a> == 3)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = INT_MIN;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="comment">//#pragma omp parallel for default(none) private(p,c,cellIdx) shared(cells,gridResolution,lnc,MPIsize,gridStartIdx,gridEndIdx,lowerPatchCorner,upperPatchCorner,cicIntersect,sdim,lowerGridCorner)</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">for</span> (c = 0; c &lt; <a class="code" href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a>; c++) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordtype">int</span> ax, ay, az;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      cellIdx.x = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> - lowerGridCorner.x) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      cellIdx.y = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab927965981178aa1fba979a37168db2a">y</a> - lowerGridCorner.y) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      cellIdx.z = ((<a class="code" href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a>[c].<a class="code" href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">z</a> - lowerGridCorner.z) / <a class="code" href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">for</span> (ax = 0; ax &lt; 2; ax++)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">for</span> (ay = 0; ay &lt; 2; ay++)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">for</span> (az = 0; az &lt; 2; az++) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">if</span> (cellIdx.x + ax &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        &amp;&amp; cellIdx.y + ay &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        &amp;&amp; cellIdx.z + az &gt;= <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        &amp;&amp; cellIdx.x + ax &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        &amp;&amp; cellIdx.y + ay &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        &amp;&amp; cellIdx.z + az &lt;= <a class="code" href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;          <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> =</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;          (<a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> &gt;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;           cellIdx.x + ax ? cellIdx.x +</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;           ax : <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;          <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> =</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;          (<a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> &gt;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;           cellIdx.y + ay ? cellIdx.y +</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;           ay : <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a> == 3)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> =</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            (<a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> &gt;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;             cellIdx.z + az ? cellIdx.z +</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;             az : <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> =</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          (<a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> &lt;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;           cellIdx.x + ax ? cellIdx.x +</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;           ax : <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> =</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          (<a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> &lt;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;           cellIdx.y + ay ? cellIdx.y +</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;           ay : <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a> == 3)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> =</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            (<a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> &lt;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;             cellIdx.z + az ? cellIdx.z +</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;             az : <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          <a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>[p] = 1;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>[p]) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> = <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> + 1;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> = <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> + 1;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a> == 3)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = <a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> - <a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> + 1;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> = 1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      cicPatch[p] =</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      (<span class="keywordtype">double</span> *) calloc(<a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> *</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="global_8h_html_a7065c019590815f10169c219f358e7d0"><div class="ttname"><a href="global_8h.html#a7065c019590815f10169c219f358e7d0">lnc</a></div><div class="ttdeci">#define lnc</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00102">global.h:102</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="fields_8h_html_a1d13a1c43b1a6eb6ca088b79ee681b48"><div class="ttname"><a href="fields_8h.html#a1d13a1c43b1a6eb6ca088b79ee681b48">gridEndIdx</a></div><div class="ttdeci">struct int64Vector3d * gridEndIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="interp_8c_html_a4a5d5cd735e0be12043322e83f096e15"><div class="ttname"><a href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_a7b2e819edbf39d5d976cff399612f6e8"><div class="ttname"><a href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a></div><div class="ttdeci">double ** cicPatch</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00035">interp.c:35</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="global_8h_html_a2f8118c1bfdf986827e156210c33cbab"><div class="ttname"><a href="global_8h.html#a2f8118c1bfdf986827e156210c33cbab">sdim</a></div><div class="ttdeci">int sdim</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00160">global.h:160</a></div></div>
<div class="ttc" id="structcellData_html_af88b946fb90d5f08b5fb740c70e98c10"><div class="ttname"><a href="structcellData.html#af88b946fb90d5f08b5fb740c70e98c10">cellData::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00069">global.h:69</a></div></div>
<div class="ttc" id="global_8h_html_a56da06a03aa369ca203be968cb56d16c"><div class="ttname"><a href="global_8h.html#a56da06a03aa369ca203be968cb56d16c">cells</a></div><div class="ttdeci">struct cellData * cells</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00082">global.h:82</a></div></div>
<div class="ttc" id="interp_8c_html_ac36d10dac7f64ef74bbf954bf709a0bd"><div class="ttname"><a href="interp_8c.html#ac36d10dac7f64ef74bbf954bf709a0bd">patchSizeR</a></div><div class="ttdeci">struct int64Vector3d * patchSizeR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00048">interp.c:48</a></div></div>
<div class="ttc" id="fields_8h_html_a9154f33f7786c05c61f4d519da14d501"><div class="ttname"><a href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a></div><div class="ttdeci">struct int64Vector3d * gridStartIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="fields_8h_html_a1c1b24172891a639f9cad84edebeaee9"><div class="ttname"><a href="fields_8h.html#a1c1b24172891a639f9cad84edebeaee9">gridResolution</a></div><div class="ttdeci">double gridResolution</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00045">fields.h:45</a></div></div>
<div class="ttc" id="interp_8c_html_a1ad7766a77930978570efda9dc79c423"><div class="ttname"><a href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_a2376cd58453249d9c7665fa650751766"><div class="ttname"><a href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="structcellData_html_ab3e6ed577a7c669c19de1f9c1b46c872"><div class="ttname"><a href="structcellData.html#ab3e6ed577a7c669c19de1f9c1b46c872">cellData::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00071">global.h:71</a></div></div>
<div class="ttc" id="interp_8c_html_a6a5d325724a8a8e583d58f951412aa0f"><div class="ttname"><a href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="structcellData_html_ab927965981178aa1fba979a37168db2a"><div class="ttname"><a href="structcellData.html#ab927965981178aa1fba979a37168db2a">cellData::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00070">global.h:70</a></div></div>
<div class="ttc" id="interp_8c_html_aa1e8e01a33edaeee7b43a257115fe3ed"><div class="ttname"><a href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a></div><div class="ttdeci">int * cicIntersect</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00036">interp.c:36</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a4299a7e9993adbe7a047b835b2339550_icgraph.png" border="0" usemap="#interp_8c_a4299a7e9993adbe7a047b835b2339550_icgraph" alt=""/></div>
<map name="interp_8c_a4299a7e9993adbe7a047b835b2339550_icgraph" id="interp_8c_a4299a7e9993adbe7a047b835b2339550_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396" title="interpolateCellsToGrid" alt="" coords="153,5,303,32"/><area shape="rect" id="node3" href="interp_8c.html#ad862fb7e08b1dee6d784a09a26978ada" title="initCellsToGridExchange" alt="" coords="145,56,311,83"/><area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="360,56,411,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad862fb7e08b1dee6d784a09a26978ada"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initCellsToGridExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes data exchange between processes required in cells-to-grid interpolation. This function enables overlapping communication and computations. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00598">598</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00181">doInterpolation()</a>, <a class="el" href="interp_8c_source.html#l00060">findPatches()</a>, <a class="el" href="fields_8h_source.html#l00033">gfields</a>, and <a class="el" href="interp_8c_source.html#l00259">initPatchExchange()</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a>)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <a class="code" href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550">findPatches</a>();</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f">doInterpolation</a>();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <a class="code" href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699">initPatchExchange</a>();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_a4299a7e9993adbe7a047b835b2339550"><div class="ttname"><a href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550">findPatches</a></div><div class="ttdeci">void findPatches()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00060">interp.c:60</a></div></div>
<div class="ttc" id="interp_8c_html_a09ed91c5c40f3937e10c8c60c2b8fb7f"><div class="ttname"><a href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f">doInterpolation</a></div><div class="ttdeci">void doInterpolation()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00181">interp.c:181</a></div></div>
<div class="ttc" id="interp_8c_html_a085ef29ed8159779989ae8fac05fd699"><div class="ttname"><a href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699">initPatchExchange</a></div><div class="ttdeci">void initPatchExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00259">interp.c:259</a></div></div>
<div class="ttc" id="fields_8h_html_abe4692639a5f11507faff09f2d37efa8"><div class="ttname"><a href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a></div><div class="ttdeci">int gfields</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00033">fields.h:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_cgraph.png" border="0" usemap="#interp_8c_ad862fb7e08b1dee6d784a09a26978ada_cgraph" alt=""/></div>
<map name="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_cgraph" id="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_cgraph">
<area shape="rect" id="node2" href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f" title="doInterpolation" alt="" coords="233,5,340,32"/><area shape="rect" id="node3" href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550" title="findPatches" alt="" coords="241,56,332,83"/><area shape="rect" id="node4" href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699" title="initPatchExchange" alt="" coords="221,107,352,133"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_icgraph.png" border="0" usemap="#interp_8c_ad862fb7e08b1dee6d784a09a26978ada_icgraph" alt=""/></div>
<map name="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_icgraph" id="interp_8c_ad862fb7e08b1dee6d784a09a26978ada_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="221,5,272,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fe8eca69017d7e0f87fd2c6cdb9b2e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initFieldsPatchesExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Now each local cell should receive information about values of global fields in the grid. Field patches are filled with appropriate values. Non-blocking communication is initiated. This is executed after global fields are computed. Field patches buffers are allocated here. Sizes of the patches are the same as those from previous CIC communication. Receiving field patches are also allocated here. MPI_Request tables are allocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00398">398</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqRecv</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqSend</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="fields_8h_source.html#l00052">fieldAddr</a>, <a class="el" href="fields_8h_source.html#l00079">fieldsPatches</a>, <a class="el" href="fields_8h_source.html#l00078">fieldsPatchesCommBuff</a>, <a class="el" href="fields_8h_source.html#l00041">gridSize</a>, <a class="el" href="fields_8h_source.html#l00042">gridStartIdx</a>, <a class="el" href="global_8h_source.html#l00134">MPIrank</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="fields_8h_source.html#l00027">NFIELDS</a>, <a class="el" href="utils_8c_source.html#l00072">stopRun()</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00230">int64Vector3d::y</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordtype">int</span> f;            <span class="comment">/* fields index */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordtype">int</span> p;            <span class="comment">/* process index */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> idx, g;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keyword">struct </span><a class="code" href="structint64Vector3d.html">int64Vector3d</a> size;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="fields_8h.html#af5c78cf0ef851175243d9f71767efe50">fieldsPatchesCommBuff</a> = (<span class="keywordtype">double</span> **) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span> *));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordtype">int</span> fieldPatchSize;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p])</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">continue</span>;         <span class="comment">/* continue to next process if current process do not overlap domain */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    size.x = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> + 1;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    size.y = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> + 1;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    size.z = <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> + 1;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    fieldPatchSize = size.x * size.y * size.z;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    fieldsPatchesCommBuff[p] =</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    (<span class="keywordtype">double</span> *) calloc(<a class="code" href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a> * fieldPatchSize, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">for</span> (f = 0; f &lt; <a class="code" href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a>; f++) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      int64_t i, j, k;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">for</span> (i = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a>; i &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>; i++)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">for</span> (j = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>; j &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>; j++)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      <span class="keywordflow">for</span> (k = <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>; k &lt;= <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;           k++) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        idx.x = i - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        idx.y = j - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        idx.z = k - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        g.x = i - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        g.y = j - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        g.z = k - <a class="code" href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a>[<a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        fieldsPatchesCommBuff[p][f * fieldPatchSize +</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                     size.z * size.y * idx.x +</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                     size.z * idx.y + idx.z] =</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        ((<span class="keywordtype">double</span> *) <a class="code" href="fields_8h.html#a6f2153921f2cf97a60e41a347ecaeb39">fieldAddr</a>[f])[<a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * g.x +</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                      <a class="code" href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a>.<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * g.y + g.z];</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a> = (<span class="keywordtype">double</span> **) calloc(MPIsize, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span> *))))</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(106, <span class="stringliteral">&quot;fieldsPatches&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a> = (MPI_Request *) malloc(<span class="keyword">sizeof</span>(MPI_Request) * <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a> = (MPI_Request *) malloc(<span class="keyword">sizeof</span>(MPI_Request) * <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p]) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordtype">int</span> sendSize;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      sendSize =</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> +</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;       1) * (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> +</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         1) * (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> +</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;               1) * NFIELDS;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      MPI_Isend(&amp;(fieldsPatchesCommBuff[p][0]), sendSize, MPI_DOUBLE, p,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>, MPI_COMM_WORLD, &amp;<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>[p]);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p]) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordtype">int</span> recvSize;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      recvSize =</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> * <a class="code" href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">if</span> (!</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      (<a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a>[p] = (<span class="keywordtype">double</span> *) calloc(recvSize, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>))))</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(106, <span class="stringliteral">&quot;fieldsPatches&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      MPI_Irecv(&amp;(<a class="code" href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a>[p][0]), recvSize, MPI_DOUBLE, p, p,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        MPI_COMM_WORLD, &amp;<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>[p]);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="global_8h_html_a710288ab7d2734acc4566a87a645325d"><div class="ttname"><a href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a></div><div class="ttdeci">int MPIrank</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00134">global.h:134</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="fields_8h_html_a7986f01c038f396ce7df280bb2903099"><div class="ttname"><a href="fields_8h.html#a7986f01c038f396ce7df280bb2903099">NFIELDS</a></div><div class="ttdeci">#define NFIELDS</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00027">fields.h:27</a></div></div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="fields_8h_html_a978db43304285c6d893667023bd6bfb9"><div class="ttname"><a href="fields_8h.html#a978db43304285c6d893667023bd6bfb9">fieldsPatches</a></div><div class="ttdeci">double ** fieldsPatches</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00079">fields.h:79</a></div></div>
<div class="ttc" id="fields_8h_html_af5c78cf0ef851175243d9f71767efe50"><div class="ttname"><a href="fields_8h.html#af5c78cf0ef851175243d9f71767efe50">fieldsPatchesCommBuff</a></div><div class="ttdeci">double ** fieldsPatchesCommBuff</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00078">fields.h:78</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="fields_8h_html_ae67bb9d09bd0919a0ccbc27b387cec72"><div class="ttname"><a href="fields_8h.html#ae67bb9d09bd0919a0ccbc27b387cec72">gridSize</a></div><div class="ttdeci">struct int64Vector3d gridSize</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00041">fields.h:41</a></div></div>
<div class="ttc" id="fields_8h_html_a9154f33f7786c05c61f4d519da14d501"><div class="ttname"><a href="fields_8h.html#a9154f33f7786c05c61f4d519da14d501">gridStartIdx</a></div><div class="ttdeci">struct int64Vector3d * gridStartIdx</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00042">fields.h:42</a></div></div>
<div class="ttc" id="interp_8c_html_a63b72f0c32960cd3ecc1733f30c40214"><div class="ttname"><a href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a></div><div class="ttdeci">MPI_Request * cicReqRecv</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
<div class="ttc" id="interp_8c_html_a2376cd58453249d9c7665fa650751766"><div class="ttname"><a href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="interp_8c_html_a6a5d325724a8a8e583d58f951412aa0f"><div class="ttname"><a href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="fields_8h_html_a6f2153921f2cf97a60e41a347ecaeb39"><div class="ttname"><a href="fields_8h.html#a6f2153921f2cf97a60e41a347ecaeb39">fieldAddr</a></div><div class="ttdeci">double * fieldAddr[NFIELDS]</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00052">fields.h:52</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="utils_8c_html_a07dd99a04f2723be164531a7a862fb67"><div class="ttname"><a href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a></div><div class="ttdeci">void stopRun(int ierr, char *name, char *file, int line)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00072">utils.c:72</a></div></div>
<div class="ttc" id="interp_8c_html_ae3d471e7732a1f671ffe978fcd723912"><div class="ttname"><a href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a></div><div class="ttdeci">MPI_Request * cicReqSend</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_cgraph.png" border="0" usemap="#interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_cgraph" alt=""/></div>
<map name="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_cgraph" id="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_cgraph">
<area shape="rect" id="node2" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="235,5,306,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_icgraph.png" border="0" usemap="#interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_icgraph" alt=""/></div>
<map name="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_icgraph" id="interp_8c_a4fe8eca69017d7e0f87fd2c6cdb9b2e2_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#a7f8b42e40580516283e6f43ce7fe6389" title="interpolateFieldsToCells" alt="" coords="235,5,397,32"/><area shape="rect" id="node3" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="445,5,496,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a085ef29ed8159779989ae8fac05fd699"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initPatchExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Patches are being sent to receiving processes with non-blocking communication scheme (Isend, Irecv). Receiving patches are allocated here. MPI_Request tables are allocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00259">259</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00036">cicIntersect</a>, <a class="el" href="interp_8c_source.html#l00035">cicPatch</a>, <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="interp_8c_source.html#l00039">cicRecvPatch</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqRecv</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqSend</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="global_8h_source.html#l00134">MPIrank</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, <a class="el" href="tempf_8c_source.html#l00041">x</a>, <a class="el" href="global_8h_source.html#l00229">int64Vector3d::x</a>, <a class="el" href="global_8h_source.html#l00224">doubleVector3d::y</a>, <a class="el" href="global_8h_source.html#l00225">doubleVector3d::z</a>, and <a class="el" href="global_8h_source.html#l00231">int64Vector3d::z</a>.</p>
<div class="fragment"><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;{</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordtype">int</span> p;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a> = (<span class="keywordtype">int</span> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a> = (<span class="keywordtype">int</span> *) calloc(<a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p] = <a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>[p];</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  MPI_Alltoall(<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>, 1, MPI_INT, <a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>, 1, MPI_INT,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;           MPI_COMM_WORLD);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  MPI_Alltoall(<a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>), MPI_BYTE,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;           <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>), MPI_BYTE,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;           MPI_COMM_WORLD);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  MPI_Alltoall(<a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>), MPI_BYTE,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;           <a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structint64Vector3d.html">int64Vector3d</a>), MPI_BYTE,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;           MPI_COMM_WORLD);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a> = (<span class="keywordtype">double</span> **) calloc(MPIsize, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span> *));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a> = (MPI_Request *) malloc(<span class="keyword">sizeof</span>(MPI_Request) * <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a> = (MPI_Request *) malloc(<span class="keyword">sizeof</span>(MPI_Request) * <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p]) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      MPI_Isend(&amp;(<a class="code" href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a>[p][0]),</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> * <a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a>,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        MPI_DOUBLE, p, <a class="code" href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a>, MPI_COMM_WORLD, &amp;<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>[p]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p]) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordtype">int</span> recvSize;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      recvSize =</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">x</a> +</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;       1) * (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">y</a> +</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         1) * (<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> - <a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>[p].<a class="code" href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">z</a> +</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;               1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a>[p] = (<span class="keywordtype">double</span> *) calloc(recvSize, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>))))</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    exit(0);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      MPI_Irecv(&amp;(<a class="code" href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a>[p][0]), recvSize, MPI_DOUBLE, p, p,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        MPI_COMM_WORLD, &amp;<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>[p]);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="ttc" id="structint64Vector3d_html_a040359f45343ce6667f5c66fda5f50e3"><div class="ttname"><a href="structint64Vector3d.html#a040359f45343ce6667f5c66fda5f50e3">int64Vector3d::x</a></div><div class="ttdeci">int64_t x</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00229">global.h:229</a></div></div>
<div class="ttc" id="global_8h_html_a710288ab7d2734acc4566a87a645325d"><div class="ttname"><a href="global_8h.html#a710288ab7d2734acc4566a87a645325d">MPIrank</a></div><div class="ttdeci">int MPIrank</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00134">global.h:134</a></div></div>
<div class="ttc" id="tempf_8c_html_a1780e9c70637026d6fab31f63b3a193e"><div class="ttname"><a href="tempf_8c.html#a1780e9c70637026d6fab31f63b3a193e">x</a></div><div class="ttdeci">HYPRE_SStructVector x</div><div class="ttdef"><b>Definition:</b> <a href="tempf_8c_source.html#l00041">tempf.c:41</a></div></div>
<div class="ttc" id="interp_8c_html_a4a5d5cd735e0be12043322e83f096e15"><div class="ttname"><a href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="interp_8c_html_a7b2e819edbf39d5d976cff399612f6e8"><div class="ttname"><a href="interp_8c.html#a7b2e819edbf39d5d976cff399612f6e8">cicPatch</a></div><div class="ttdeci">double ** cicPatch</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00035">interp.c:35</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a44624880ae3bb63041297b70cb33408b"><div class="ttname"><a href="structint64Vector3d.html#a44624880ae3bb63041297b70cb33408b">int64Vector3d::z</a></div><div class="ttdeci">int64_t z</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00231">global.h:231</a></div></div>
<div class="ttc" id="structint64Vector3d_html"><div class="ttname"><a href="structint64Vector3d.html">int64Vector3d</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00228">global.h:228</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="interp_8c_html_a63b72f0c32960cd3ecc1733f30c40214"><div class="ttname"><a href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a></div><div class="ttdeci">MPI_Request * cicReqRecv</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
<div class="ttc" id="interp_8c_html_a1ad7766a77930978570efda9dc79c423"><div class="ttname"><a href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_a2376cd58453249d9c7665fa650751766"><div class="ttname"><a href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="interp_8c_html_a6a5d325724a8a8e583d58f951412aa0f"><div class="ttname"><a href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="structint64Vector3d_html_a0cbcba26311a97b8e0763317e105a918"><div class="ttname"><a href="structint64Vector3d.html#a0cbcba26311a97b8e0763317e105a918">int64Vector3d::y</a></div><div class="ttdeci">int64_t y</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00230">global.h:230</a></div></div>
<div class="ttc" id="interp_8c_html_aa694a54cf85528e82466805524525b7d"><div class="ttname"><a href="interp_8c.html#aa694a54cf85528e82466805524525b7d">cicRecvPatch</a></div><div class="ttdeci">double ** cicRecvPatch</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00039">interp.c:39</a></div></div>
<div class="ttc" id="interp_8c_html_aa1e8e01a33edaeee7b43a257115fe3ed"><div class="ttname"><a href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a></div><div class="ttdeci">int * cicIntersect</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00036">interp.c:36</a></div></div>
<div class="ttc" id="interp_8c_html_ae3d471e7732a1f671ffe978fcd723912"><div class="ttname"><a href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a></div><div class="ttdeci">MPI_Request * cicReqSend</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a085ef29ed8159779989ae8fac05fd699_icgraph.png" border="0" usemap="#interp_8c_a085ef29ed8159779989ae8fac05fd699_icgraph" alt=""/></div>
<map name="interp_8c_a085ef29ed8159779989ae8fac05fd699_icgraph" id="interp_8c_a085ef29ed8159779989ae8fac05fd699_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396" title="interpolateCellsToGrid" alt="" coords="193,5,343,32"/><area shape="rect" id="node3" href="interp_8c.html#ad862fb7e08b1dee6d784a09a26978ada" title="initCellsToGridExchange" alt="" coords="185,56,351,83"/><area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="400,56,451,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace868928ce5497cc3edc942bd5c8f396"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interpolateCellsToGrid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a driving function interpolating cellular data to grid data. This function does not enable overlapping communication and computations. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00583">583</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00338">applyPatches()</a>, <a class="el" href="interp_8c_source.html#l00181">doInterpolation()</a>, <a class="el" href="interp_8c_source.html#l00060">findPatches()</a>, <a class="el" href="interp_8c_source.html#l00259">initPatchExchange()</a>, and <a class="el" href="interp_8c_source.html#l00309">waitPatchExchange()</a>.</p>
<div class="fragment"><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550">findPatches</a>();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f">doInterpolation</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699">initPatchExchange</a>();</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6">waitPatchExchange</a>();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33">applyPatches</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_a4299a7e9993adbe7a047b835b2339550"><div class="ttname"><a href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550">findPatches</a></div><div class="ttdeci">void findPatches()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00060">interp.c:60</a></div></div>
<div class="ttc" id="interp_8c_html_a09ed91c5c40f3937e10c8c60c2b8fb7f"><div class="ttname"><a href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f">doInterpolation</a></div><div class="ttdeci">void doInterpolation()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00181">interp.c:181</a></div></div>
<div class="ttc" id="interp_8c_html_a085ef29ed8159779989ae8fac05fd699"><div class="ttname"><a href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699">initPatchExchange</a></div><div class="ttdeci">void initPatchExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00259">interp.c:259</a></div></div>
<div class="ttc" id="interp_8c_html_a3e968c18c11bbe46df754e7eca593b33"><div class="ttname"><a href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33">applyPatches</a></div><div class="ttdeci">int applyPatches()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00338">interp.c:338</a></div></div>
<div class="ttc" id="interp_8c_html_a4124511b40767952ed61d5ae30bae7b6"><div class="ttname"><a href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6">waitPatchExchange</a></div><div class="ttdeci">int waitPatchExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00309">interp.c:309</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_ace868928ce5497cc3edc942bd5c8f396_cgraph.png" border="0" usemap="#interp_8c_ace868928ce5497cc3edc942bd5c8f396_cgraph" alt=""/></div>
<map name="interp_8c_ace868928ce5497cc3edc942bd5c8f396_cgraph" id="interp_8c_ace868928ce5497cc3edc942bd5c8f396_cgraph">
<area shape="rect" id="node2" href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33" title="applyPatches" alt="" coords="224,5,325,32"/><area shape="rect" id="node3" href="interp_8c.html#a09ed91c5c40f3937e10c8c60c2b8fb7f" title="doInterpolation" alt="" coords="221,56,328,83"/><area shape="rect" id="node4" href="interp_8c.html#a4299a7e9993adbe7a047b835b2339550" title="findPatches" alt="" coords="229,107,320,133"/><area shape="rect" id="node5" href="interp_8c.html#a085ef29ed8159779989ae8fac05fd699" title="initPatchExchange" alt="" coords="209,157,340,184"/><area shape="rect" id="node6" href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6" title="waitPatchExchange" alt="" coords="205,208,344,235"/><area shape="rect" id="node7" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="393,208,463,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f8b42e40580516283e6f43ce7fe6389"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interpolateFieldsToCells </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to interpolate field data back to cells. Overlapping of communication and computations is not implemented here. This function deallocates all important arrays used in interpolation. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00627">627</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00509">applyFieldsPatches()</a>, <a class="el" href="interp_8c_source.html#l00036">cicIntersect</a>, <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="fields_8h_source.html#l00033">gfields</a>, <a class="el" href="interp_8c_source.html#l00398">initFieldsPatchesExchange()</a>, and <a class="el" href="interp_8c_source.html#l00475">waitFieldsPatchesExchange()</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a>)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="interp_8c.html#a4fe8eca69017d7e0f87fd2c6cdb9b2e2">initFieldsPatchesExchange</a>();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="interp_8c.html#a751d539b1af7ca1f9ce8e55a91084874">waitFieldsPatchesExchange</a>();</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <a class="code" href="interp_8c.html#a08111192411fead96613d994aa95f960">applyFieldsPatches</a>();</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  free(<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  free(<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  free(<a class="code" href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a>);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  free(<a class="code" href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a>);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  free(<a class="code" href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  free(<a class="code" href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  free(<a class="code" href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  free(<a class="code" href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  free(<a class="code" href="interp_8c.html#ac36d10dac7f64ef74bbf954bf709a0bd">patchSizeR</a>);</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_a751d539b1af7ca1f9ce8e55a91084874"><div class="ttname"><a href="interp_8c.html#a751d539b1af7ca1f9ce8e55a91084874">waitFieldsPatchesExchange</a></div><div class="ttdeci">void waitFieldsPatchesExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00475">interp.c:475</a></div></div>
<div class="ttc" id="interp_8c_html_a4a5d5cd735e0be12043322e83f096e15"><div class="ttname"><a href="interp_8c.html#a4a5d5cd735e0be12043322e83f096e15">lowerPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="interp_8c_html_ac36d10dac7f64ef74bbf954bf709a0bd"><div class="ttname"><a href="interp_8c.html#ac36d10dac7f64ef74bbf954bf709a0bd">patchSizeR</a></div><div class="ttdeci">struct int64Vector3d * patchSizeR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00048">interp.c:48</a></div></div>
<div class="ttc" id="interp_8c_html_a1ad7766a77930978570efda9dc79c423"><div class="ttname"><a href="interp_8c.html#a1ad7766a77930978570efda9dc79c423">upperPatchCorner</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCorner</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00045">interp.c:45</a></div></div>
<div class="ttc" id="interp_8c_html_a2376cd58453249d9c7665fa650751766"><div class="ttname"><a href="interp_8c.html#a2376cd58453249d9c7665fa650751766">lowerPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * lowerPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a63c4dd6e4bd05dfdc1e3b01c60b96c31"><div class="ttname"><a href="interp_8c.html#a63c4dd6e4bd05dfdc1e3b01c60b96c31">patchSize</a></div><div class="ttdeci">struct int64Vector3d * patchSize</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00047">interp.c:47</a></div></div>
<div class="ttc" id="interp_8c_html_a6a5d325724a8a8e583d58f951412aa0f"><div class="ttname"><a href="interp_8c.html#a6a5d325724a8a8e583d58f951412aa0f">upperPatchCornerR</a></div><div class="ttdeci">struct int64Vector3d * upperPatchCornerR</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00046">interp.c:46</a></div></div>
<div class="ttc" id="interp_8c_html_a08111192411fead96613d994aa95f960"><div class="ttname"><a href="interp_8c.html#a08111192411fead96613d994aa95f960">applyFieldsPatches</a></div><div class="ttdeci">void applyFieldsPatches()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00509">interp.c:509</a></div></div>
<div class="ttc" id="interp_8c_html_a4fe8eca69017d7e0f87fd2c6cdb9b2e2"><div class="ttname"><a href="interp_8c.html#a4fe8eca69017d7e0f87fd2c6cdb9b2e2">initFieldsPatchesExchange</a></div><div class="ttdeci">void initFieldsPatchesExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00398">interp.c:398</a></div></div>
<div class="ttc" id="interp_8c_html_aa1e8e01a33edaeee7b43a257115fe3ed"><div class="ttname"><a href="interp_8c.html#aa1e8e01a33edaeee7b43a257115fe3ed">cicIntersect</a></div><div class="ttdeci">int * cicIntersect</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00036">interp.c:36</a></div></div>
<div class="ttc" id="fields_8h_html_abe4692639a5f11507faff09f2d37efa8"><div class="ttname"><a href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a></div><div class="ttdeci">int gfields</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00033">fields.h:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_cgraph.png" border="0" usemap="#interp_8c_a7f8b42e40580516283e6f43ce7fe6389_cgraph" alt=""/></div>
<map name="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_cgraph" id="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_cgraph">
<area shape="rect" id="node2" href="interp_8c.html#a08111192411fead96613d994aa95f960" title="applyFieldsPatches" alt="" coords="241,5,377,32"/><area shape="rect" id="node3" href="interp_8c.html#a4fe8eca69017d7e0f87fd2c6cdb9b2e2" title="initFieldsPatchesExchange" alt="" coords="219,56,399,83"/><area shape="rect" id="node5" href="interp_8c.html#a751d539b1af7ca1f9ce8e55a91084874" title="waitFieldsPatchesExchange" alt="" coords="216,107,403,133"/><area shape="rect" id="node4" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="451,81,522,108"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_icgraph.png" border="0" usemap="#interp_8c_a7f8b42e40580516283e6f43ce7fe6389_icgraph" alt=""/></div>
<map name="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_icgraph" id="interp_8c_a7f8b42e40580516283e6f43ce7fe6389_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="216,5,267,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac7fd669461f281bbaceac377028fb722"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitCellsToGridExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function wait for patches communication to finish in cells-to-grid interpolation. This function enables overlapping communication and computations. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00613">613</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00338">applyPatches()</a>, <a class="el" href="fields_8h_source.html#l00033">gfields</a>, and <a class="el" href="interp_8c_source.html#l00309">waitPatchExchange()</a>.</p>
<div class="fragment"><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a>)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6">waitPatchExchange</a>();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33">applyPatches</a>();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_a3e968c18c11bbe46df754e7eca593b33"><div class="ttname"><a href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33">applyPatches</a></div><div class="ttdeci">int applyPatches()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00338">interp.c:338</a></div></div>
<div class="ttc" id="interp_8c_html_a4124511b40767952ed61d5ae30bae7b6"><div class="ttname"><a href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6">waitPatchExchange</a></div><div class="ttdeci">int waitPatchExchange()</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00309">interp.c:309</a></div></div>
<div class="ttc" id="fields_8h_html_abe4692639a5f11507faff09f2d37efa8"><div class="ttname"><a href="fields_8h.html#abe4692639a5f11507faff09f2d37efa8">gfields</a></div><div class="ttdeci">int gfields</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00033">fields.h:33</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_ac7fd669461f281bbaceac377028fb722_cgraph.png" border="0" usemap="#interp_8c_ac7fd669461f281bbaceac377028fb722_cgraph" alt=""/></div>
<map name="interp_8c_ac7fd669461f281bbaceac377028fb722_cgraph" id="interp_8c_ac7fd669461f281bbaceac377028fb722_cgraph">
<area shape="rect" id="node2" href="interp_8c.html#a3e968c18c11bbe46df754e7eca593b33" title="applyPatches" alt="" coords="245,5,347,32"/><area shape="rect" id="node3" href="interp_8c.html#a4124511b40767952ed61d5ae30bae7b6" title="waitPatchExchange" alt="" coords="227,56,365,83"/><area shape="rect" id="node4" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="414,56,485,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_ac7fd669461f281bbaceac377028fb722_icgraph.png" border="0" usemap="#interp_8c_ac7fd669461f281bbaceac377028fb722_icgraph" alt=""/></div>
<map name="interp_8c_ac7fd669461f281bbaceac377028fb722_icgraph" id="interp_8c_ac7fd669461f281bbaceac377028fb722_icgraph">
<area shape="rect" id="node2" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="227,5,277,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a751d539b1af7ca1f9ce8e55a91084874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitFieldsPatchesExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for communication to finish. MPI_Request tables are deallocated here. Field patches buffers are deallocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00475">475</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqRecv</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqSend</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="fields_8h_source.html#l00078">fieldsPatchesCommBuff</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, and <a class="el" href="utils_8c_source.html#l00072">stopRun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordtype">int</span> p, f;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  MPI_Status status;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p])</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (MPI_Wait(&amp;<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>[p], &amp;status) != MPI_SUCCESS)</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(103, <span class="stringliteral">&quot;sending&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p])</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (MPI_Wait(&amp;<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>[p], &amp;status) != MPI_SUCCESS)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(103, <span class="stringliteral">&quot;receiving&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  free(<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  free(<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    free(<a class="code" href="fields_8h.html#af5c78cf0ef851175243d9f71767efe50">fieldsPatchesCommBuff</a>[p]);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  free(<a class="code" href="fields_8h.html#af5c78cf0ef851175243d9f71767efe50">fieldsPatchesCommBuff</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="fields_8h_html_af5c78cf0ef851175243d9f71767efe50"><div class="ttname"><a href="fields_8h.html#af5c78cf0ef851175243d9f71767efe50">fieldsPatchesCommBuff</a></div><div class="ttdeci">double ** fieldsPatchesCommBuff</div><div class="ttdef"><b>Definition:</b> <a href="fields_8h_source.html#l00078">fields.h:78</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="interp_8c_html_a63b72f0c32960cd3ecc1733f30c40214"><div class="ttname"><a href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a></div><div class="ttdeci">MPI_Request * cicReqRecv</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
<div class="ttc" id="utils_8c_html_a07dd99a04f2723be164531a7a862fb67"><div class="ttname"><a href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a></div><div class="ttdeci">void stopRun(int ierr, char *name, char *file, int line)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00072">utils.c:72</a></div></div>
<div class="ttc" id="interp_8c_html_ae3d471e7732a1f671ffe978fcd723912"><div class="ttname"><a href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a></div><div class="ttdeci">MPI_Request * cicReqSend</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_cgraph.png" border="0" usemap="#interp_8c_a751d539b1af7ca1f9ce8e55a91084874_cgraph" alt=""/></div>
<map name="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_cgraph" id="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_cgraph">
<area shape="rect" id="node2" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="241,5,311,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_icgraph.png" border="0" usemap="#interp_8c_a751d539b1af7ca1f9ce8e55a91084874_icgraph" alt=""/></div>
<map name="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_icgraph" id="interp_8c_a751d539b1af7ca1f9ce8e55a91084874_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#a7f8b42e40580516283e6f43ce7fe6389" title="interpolateFieldsToCells" alt="" coords="240,5,403,32"/><area shape="rect" id="node3" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="451,5,501,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4124511b40767952ed61d5ae30bae7b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int waitPatchExchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for communication to finish. MPI_Request tables are deallocated here. </p>

<p>Definition at line <a class="el" href="interp_8c_source.html#l00309">309</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

<p>References <a class="el" href="interp_8c_source.html#l00037">cicReceiver</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqRecv</a>, <a class="el" href="interp_8c_source.html#l00041">cicReqSend</a>, <a class="el" href="interp_8c_source.html#l00038">cicSender</a>, <a class="el" href="global_8h_source.html#l00135">MPIsize</a>, and <a class="el" href="utils_8c_source.html#l00072">stopRun()</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;{</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordtype">int</span> p;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  MPI_Status status;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a>[p])</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (MPI_Wait(&amp;<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>[p], &amp;status) != MPI_SUCCESS)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(103, <span class="stringliteral">&quot;sending&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">for</span> (p = 0; p &lt; <a class="code" href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a>; p++) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a>[p])</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span> (MPI_Wait(&amp;<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>[p], &amp;status) != MPI_SUCCESS)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a>(103, <span class="stringliteral">&quot;receiving&quot;</span>, __FILE__, __LINE__);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  free(<a class="code" href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  free(<a class="code" href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="ttc" id="interp_8c_html_adb4ccb79955589454dc66b849d8701ec"><div class="ttname"><a href="interp_8c.html#adb4ccb79955589454dc66b849d8701ec">cicReceiver</a></div><div class="ttdeci">int * cicReceiver</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00037">interp.c:37</a></div></div>
<div class="ttc" id="global_8h_html_a0d7d02544d01ceac87c9d5cadc3af0df"><div class="ttname"><a href="global_8h.html#a0d7d02544d01ceac87c9d5cadc3af0df">MPIsize</a></div><div class="ttdeci">int MPIsize</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00135">global.h:135</a></div></div>
<div class="ttc" id="interp_8c_html_a2a5d63a8f1ea342e89fe82d9bfa34dc4"><div class="ttname"><a href="interp_8c.html#a2a5d63a8f1ea342e89fe82d9bfa34dc4">cicSender</a></div><div class="ttdeci">int * cicSender</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00038">interp.c:38</a></div></div>
<div class="ttc" id="interp_8c_html_a63b72f0c32960cd3ecc1733f30c40214"><div class="ttname"><a href="interp_8c.html#a63b72f0c32960cd3ecc1733f30c40214">cicReqRecv</a></div><div class="ttdeci">MPI_Request * cicReqRecv</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
<div class="ttc" id="utils_8c_html_a07dd99a04f2723be164531a7a862fb67"><div class="ttname"><a href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67">stopRun</a></div><div class="ttdeci">void stopRun(int ierr, char *name, char *file, int line)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8c_source.html#l00072">utils.c:72</a></div></div>
<div class="ttc" id="interp_8c_html_ae3d471e7732a1f671ffe978fcd723912"><div class="ttname"><a href="interp_8c.html#ae3d471e7732a1f671ffe978fcd723912">cicReqSend</a></div><div class="ttdeci">MPI_Request * cicReqSend</div><div class="ttdef"><b>Definition:</b> <a href="interp_8c_source.html#l00041">interp.c:41</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a4124511b40767952ed61d5ae30bae7b6_cgraph.png" border="0" usemap="#interp_8c_a4124511b40767952ed61d5ae30bae7b6_cgraph" alt=""/></div>
<map name="interp_8c_a4124511b40767952ed61d5ae30bae7b6_cgraph" id="interp_8c_a4124511b40767952ed61d5ae30bae7b6_cgraph">
<area shape="rect" id="node2" href="utils_8c.html#a07dd99a04f2723be164531a7a862fb67" title="stopRun" alt="" coords="193,5,263,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="interp_8c_a4124511b40767952ed61d5ae30bae7b6_icgraph.png" border="0" usemap="#interp_8c_a4124511b40767952ed61d5ae30bae7b6_icgraph" alt=""/></div>
<map name="interp_8c_a4124511b40767952ed61d5ae30bae7b6_icgraph" id="interp_8c_a4124511b40767952ed61d5ae30bae7b6_icgraph">
<area shape="rect" id="node2" href="interp_8c.html#ace868928ce5497cc3edc942bd5c8f396" title="interpolateCellsToGrid" alt="" coords="203,5,354,32"/><area shape="rect" id="node3" href="interp_8c.html#ac7fd669461f281bbaceac377028fb722" title="waitCellsToGridExchange" alt="" coords="192,56,365,83"/><area shape="rect" id="node4" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="413,56,464,83"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa1e8e01a33edaeee7b43a257115fe3ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* cicIntersect</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00036">36</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7b2e819edbf39d5d976cff399612f6e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double** cicPatch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00035">35</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="adb4ccb79955589454dc66b849d8701ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* cicReceiver</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00037">37</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa694a54cf85528e82466805524525b7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double** cicRecvPatch</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00039">39</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a63b72f0c32960cd3ecc1733f30c40214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request * cicReqRecv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00041">41</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae3d471e7732a1f671ffe978fcd723912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Request* cicReqSend</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00041">41</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2a5d63a8f1ea342e89fe82d9bfa34dc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* cicSender</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00038">38</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a5d5cd735e0be12043322e83f096e15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a>* lowerPatchCorner</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00045">45</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2376cd58453249d9c7665fa650751766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a>* lowerPatchCornerR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00046">46</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a63c4dd6e4bd05dfdc1e3b01c60b96c31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a>* patchSize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00047">47</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac36d10dac7f64ef74bbf954bf709a0bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a>* patchSizeR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00048">48</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a55ace146e560886795409d6ac149119c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* recvP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00043">43</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ad7766a77930978570efda9dc79c423"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> * upperPatchCorner</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00045">45</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6a5d325724a8a8e583d58f951412aa0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structint64Vector3d.html">int64Vector3d</a> * upperPatchCornerR</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="interp_8c_source.html#l00046">46</a> of file <a class="el" href="interp_8c_source.html">interp.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="interp_8c.html">interp.c</a></li>
    <li class="footer">Generated on Thu Mar 5 2015 16:34:18 for Timothy by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
